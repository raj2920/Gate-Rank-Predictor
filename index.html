<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ GATE Rank Predictor 2026 | Accurate Rank Prediction</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --success: #27ae60;
            --warning: #f39c12;
            --danger: #e74c3c;
            --purple: #9b59b6;
            --green: #2ecc71;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 70px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            border: 3px solid var(--secondary);
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary), #1a2530);
            color: white;
            padding: 30px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header-pattern {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h20v20H0z" fill="none"/><path d="M3 3h14v14H3z" stroke="rgba(255,255,255,0.1)" stroke-width="1"/></svg>');
            opacity: 0.3;
        }

        .logo {
            display: inline-flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
        }

        .logo-icon {
            font-size: 3rem;
            color: var(--secondary);
            background: white;
            padding: 15px;
            border-radius: 50%;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .logo h1 {
            font-size: 2.3rem;
            font-weight: 900;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .logo span {
            color: var(--secondary);
            background: linear-gradient(135deg, var(--secondary), #2980b9);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: none;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            color: #ecf0f1;
            position: relative;
            z-index: 1;
        }

        .emoji-sparkle {
            font-size: 1.3rem;
            margin: 0 5px;
            animation: sparkle 2s infinite;
        }

        @keyframes sparkle {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
        }

        /* Main Content */
        .main-content {
            padding: 40px;
        }

        /* Enhanced Input Section */
        .input-section {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
            border: 3px solid transparent;
            border-image: linear-gradient(135deg, var(--secondary), var(--purple)) 1;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }

        .input-section:hover {
            transform: translateY(-5px);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid var(--secondary);
        }

        .section-header h2 {
            color: var(--primary);
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .emoji-title {
            font-size: 2rem;
        }

        .section-badge {
            background: linear-gradient(135deg, var(--warning), #e67e22);
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-weight: 700;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .input-fields {
            display: block;
        }

        /* Enhanced Marks Type Cards */
        .marks-type-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 2px solid #e0e0e0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .marks-type-card:hover {
            border-color: var(--secondary);
            box-shadow: 0 15px 40px rgba(52, 152, 219, 0.15);
        }

        .marks-type-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--secondary), var(--purple));
        }

        .marks-type-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
        }

        .marks-type-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--secondary), #2980b9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.8rem;
            font-weight: bold;
            box-shadow: 0 8px 20px rgba(52, 152, 219, 0.3);
        }

        .marks-type-content h4 {
            color: var(--primary);
            font-size: 1.4rem;
            margin-bottom: 5px;
        }

        .marks-type-desc {
            color: #666;
            font-size: 0.95rem;
        }

        .marks-badge {
            display: inline-block;
            padding: 5px 15px;
            background: rgba(52, 152, 219, 0.1);
            color: var(--secondary);
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-left: 10px;
        }

        .marks-grid-enhanced {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 25px;
        }

        @media (max-width: 768px) {
            .marks-grid-enhanced {
                grid-template-columns: 1fr;
            }
        }

        .input-group-enhanced {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            border: 2px solid #e9ecef;
            transition: all 0.3s;
        }

        .input-group-enhanced:hover {
            border-color: var(--secondary);
            background: white;
        }

        .input-group-enhanced label {
            font-weight: 700;
            color: var(--primary);
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .input-with-buttons {
            position: relative;
        }

        .input-with-buttons input {
            width: 100%;
            padding: 16px 120px 16px 16px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s;
            background: white;
        }

        .input-with-buttons input:focus {
            border-color: var(--secondary);
            outline: none;
            box-shadow: 0 0 0 4px rgba(52, 152, 219, 0.2);
        }

        .input-buttons {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            gap: 8px;
        }

        .input-btn {
            width: 40px;
            height: 40px;
            border: none;
            background: var(--secondary);
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.2rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .input-btn:hover {
            background: #2980b9;
            transform: scale(1.1);
        }

        .input-btn:active {
            transform: scale(0.95);
        }

        /* Enhanced Quick Buttons */
        .quick-buttons-enhanced {
            display: flex;
            gap: 12px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .quick-btn-enhanced {
            padding: 10px 20px;
            background: linear-gradient(135deg, #f0f0f0, #e0e0e0);
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .quick-btn-enhanced:hover {
            background: linear-gradient(135deg, #e0e0e0, #d0d0d0);
            transform: translateY(-2px);
        }

        .quick-btn-enhanced.active {
            background: linear-gradient(135deg, var(--secondary), #2980b9);
            color: white;
            border-color: var(--secondary);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        /* Category Selection Enhanced */
        .category-selection {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
            border: 2px solid #e0e0e0;
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .category-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .category-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .category-card.active {
            border-color: var(--secondary);
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.1), rgba(52, 152, 219, 0.05));
            box-shadow: 0 10px 25px rgba(52, 152, 219, 0.2);
        }

        .category-emoji {
            font-size: 2rem;
            margin-bottom: 10px;
            display: block;
        }

        .category-name {
            font-weight: 700;
            color: var(--primary);
            font-size: 1.1rem;
        }

        .category-code {
            font-size: 0.9rem;
            color: #666;
            margin-top: 5px;
        }

        /* Enhanced Predict Button */
        .predict-container {
            text-align: center;
            margin: 40px 0;
        }

        .predict-btn-enhanced {
            background: linear-gradient(135deg, var(--success), #27ae60);
            color: white;
            border: none;
            padding: 22px 50px;
            border-radius: 60px;
            font-size: 1.4rem;
            font-weight: 900;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 15px 30px rgba(39, 174, 96, 0.3);
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }

        .predict-btn-enhanced::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }

        .predict-btn-enhanced:hover::before {
            left: 100%;
        }

        .predict-btn-enhanced:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 20px 40px rgba(39, 174, 96, 0.4);
        }

        .predict-btn-enhanced:active {
            transform: translateY(-2px) scale(1.02);
        }

        .predict-icon {
            font-size: 1.6rem;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        /* Enhanced Graph Section */
        .graph-section-enhanced {
            margin-top: 50px;
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            padding: 40px;
            border-radius: 20px;
            border: 3px solid var(--secondary);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
        }

        .graph-header-enhanced {
            text-align: center;
            margin-bottom: 40px;
        }

        .graph-header-enhanced h3 {
            color: var(--primary);
            font-size: 1.8rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .graph-emoji {
            font-size: 2rem;
        }

        .graph-subtitle {
            color: #666;
            font-size: 1.1rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .graph-container-enhanced {
            height: 450px;
            position: relative;
            background: white;
            border-radius: 15px;
            padding: 20px;
            border: 2px solid #e0e0e0;
        }

        .graph-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .graph-control-btn {
            padding: 12px 25px;
            background: var(--light);
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .graph-control-btn:hover {
            background: var(--secondary);
            color: white;
            border-color: var(--secondary);
        }

        .graph-control-btn.active {
            background: var(--secondary);
            color: white;
            border-color: var(--secondary);
        }

        /* Enhanced Footer */
        footer {
            background: linear-gradient(135deg, var(--primary), #1a2530);
            color: white;
            padding: 40px;
            margin-top: 60px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .footer-pattern {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg width="30" height="30" xmlns="http://www.w3.org/2000/svg"><circle cx="15" cy="15" r="2" fill="rgba(255,255,255,0.1)"/></svg>');
        }

        .footer-content {
            position: relative;
            z-index: 1;
        }

        .developer-badge-enhanced {
            background: linear-gradient(135deg, var(--secondary), var(--purple));
            padding: 15px 35px;
            border-radius: 30px;
            display: inline-flex;
            align-items: center;
            gap: 15px;
            margin-top: 25px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            animation: badgeGlow 2s infinite alternate;
        }

        @keyframes badgeGlow {
            0% { box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2); }
            100% { box-shadow: 0 10px 30px rgba(52, 152, 219, 0.4); }
        }

        .developer-icon-enhanced {
            color: white;
            font-size: 1.8rem;
        }

        .developer-name-enhanced {
            color: white;
            font-weight: 900;
            font-size: 1.4rem;
            letter-spacing: 1px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
        }

        .copyright-enhanced {
            margin-top: 25px;
            opacity: 0.9;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        /* Results Section - Keep existing but add emojis */
        .results-section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin-top: 30px;
            display: none;
            border: 3px solid var(--secondary);
            animation: slideIn 0.5s ease;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.1);
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .results-section.visible {
            display: block;
        }

        .results-header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 4px solid var(--secondary);
        }

        .results-header h2 {
            color: var(--primary);
            font-size: 2rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
        }

        .results-emoji {
            font-size: 2.5rem;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 50px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 20px;
            margin: 20px 0;
        }

        .loading i {
            font-size: 4rem;
            color: var(--secondary);
            margin-bottom: 20px;
            animation: spin 1.5s linear infinite;
        }

        /* Add emojis to existing sections */
        .emoji-bullet {
            font-size: 1.2rem;
            margin-right: 10px;
        }

        .note-box {
            background: linear-gradient(135deg, #fff8e1, #ffeaa7);
            padding: 25px;
            border-radius: 15px;
            margin-top: 30px;
            border-left: 6px solid var(--warning);
            font-size: 1rem;
        }

        .note-box p {
            margin-bottom: 10px;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="header-pattern"></div>
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-rocket"></i>
                </div>
                <div>
                    <h1>üéØ GATE <span>PREDICTOR</span> 2026 üöÄ</h1>
                    <p class="subtitle">
                        <span class="emoji-sparkle">‚ö°</span> 
                        Accurate Rank Prediction with IIT Admission Analysis
                        <span class="emoji-sparkle">üåü</span>
                    </p>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Enhanced Input Section -->
            <div class="input-section">
                <div class="section-header">
                    <h2>
                        <span class="emoji-title">üìä</span>
                        Enter Your GATE Details
                    </h2>
                    <div class="section-badge">
                        <i class="fas fa-star"></i>
                        STEP 1: FILL MARKS
                    </div>
                </div>
                
                <div class="input-fields">
                    <div class="input-group">
                        <label><i class="fas fa-file-alt"></i> üìù Select Your Paper</label>
                        <select id="paper" style="width: 100%; padding: 16px; border: 3px solid #ddd; border-radius: 12px; font-size: 1.1rem; font-weight: 600;">
                            <option value="CE">üèóÔ∏è Civil Engineering (CE)</option>
                            <option value="ME">‚öôÔ∏è Mechanical Engineering (ME)</option>
                            <option value="EE">‚ö° Electrical Engineering (EE)</option>
                            <option value="EC">üì° Electronics & Communication (EC)</option>
                            <option value="CS" selected>üíª Computer Science (CS)</option>
                            <option value="DA">ü§ñ Data Science & AI (DA)</option>
                            <option value="IN">üîß Instrumentation Engineering (IN)</option>
                            <option value="CH">üß™ Chemical Engineering (CH)</option>
                        </select>
                    </div>

                    <!-- Enhanced Type 1 Marks Card -->
                    <div class="marks-type-card">
                        <div class="marks-type-header">
                            <div class="marks-type-icon">1</div>
                            <div class="marks-type-content">
                                <h4>üéØ Type 1 Questions <span class="marks-badge">1 Mark Each</span></h4>
                                <p class="marks-type-desc">Single mark questions with ‚Öì negative marking per wrong answer</p>
                            </div>
                        </div>
                        <div class="marks-grid-enhanced">
                            <div class="input-group-enhanced">
                                <label><i class="fas fa-check-circle" style="color: var(--success);"></i> ‚úÖ Correct Answers</label>
                                <div class="input-with-buttons">
                                    <input type="number" id="type1Correct" min="0" max="100" step="1" value="0" oninput="updateMarks()">
                                    <div class="input-buttons">
                                        <button class="input-btn" onclick="changeValue('type1Correct', -1)">-</button>
                                        <button class="input-btn" onclick="changeValue('type1Correct', 1)">+</button>
                                    </div>
                                </div>
                                <div class="quick-buttons-enhanced">
                                    <button class="quick-btn-enhanced" onclick="setValue('type1Correct', 20)">
                                        <span>üéØ</span> 20 Questions
                                    </button>
                                    <button class="quick-btn-enhanced" onclick="setValue('type1Correct', 25)">
                                        <span>üöÄ</span> 25 Questions
                                    </button>
                                    <button class="quick-btn-enhanced" onclick="setValue('type1Correct', 30)">
                                        <span>üî•</span> 30 Questions
                                    </button>
                                </div>
                            </div>
                            
                            <div class="input-group-enhanced">
                                <label><i class="fas fa-times-circle" style="color: var(--danger);"></i> ‚ùå Wrong Answers</label>
                                <div class="input-with-buttons">
                                    <input type="number" id="type1Wrong" min="0" max="100" step="1" value="0" oninput="updateMarks()">
                                    <div class="input-buttons">
                                        <button class="input-btn" onclick="changeValue('type1Wrong', -1)">-</button>
                                        <button class="input-btn" onclick="changeValue('type1Wrong', 1)">+</button>
                                    </div>
                                </div>
                                <div class="quick-buttons-enhanced">
                                    <button class="quick-btn-enhanced" onclick="setValue('type1Wrong', 0)">
                                        <span>üòé</span> 0 Wrong
                                    </button>
                                    <button class="quick-btn-enhanced" onclick="setValue('type1Wrong', 5)">
                                        <span>üìâ</span> 5 Wrong
                                    </button>
                                    <button class="quick-btn-enhanced" onclick="setValue('type1Wrong', 10)">
                                        <span>üíÄ</span> 10 Wrong
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Enhanced Type 2 Marks Card -->
                    <div class="marks-type-card">
                        <div class="marks-type-header">
                            <div class="marks-type-icon">2</div>
                            <div class="marks-type-content">
                                <h4>üéØ Type 2 Questions <span class="marks-badge">2 Marks Each</span></h4>
                                <p class="marks-type-desc">Two mark questions with ‚Öî negative marking per wrong answer</p>
                            </div>
                        </div>
                        <div class="marks-grid-enhanced">
                            <div class="input-group-enhanced">
                                <label><i class="fas fa-check-circle" style="color: var(--success);"></i> ‚úÖ Correct Answers</label>
                                <div class="input-with-buttons">
                                    <input type="number" id="type2Correct" min="0" max="50" step="1" value="0" oninput="updateMarks()">
                                    <div class="input-buttons">
                                        <button class="input-btn" onclick="changeValue('type2Correct', -1)">-</button>
                                        <button class="input-btn" onclick="changeValue('type2Correct', 1)">+</button>
                                    </div>
                                </div>
                                <div class="quick-buttons-enhanced">
                                    <button class="quick-btn-enhanced" onclick="setValue('type2Correct', 15)">
                                        <span>üéØ</span> 15 Questions
                                    </button>
                                    <button class="quick-btn-enhanced" onclick="setValue('type2Correct', 18)">
                                        <span>üöÄ</span> 18 Questions
                                    </button>
                                    <button class="quick-btn-enhanced" onclick="setValue('type2Correct', 20)">
                                        <span>üî•</span> 20 Questions
                                    </button>
                                </div>
                            </div>
                            
                            <div class="input-group-enhanced">
                                <label><i class="fas fa-times-circle" style="color: var(--danger);"></i> ‚ùå Wrong Answers</label>
                                <div class="input-with-buttons">
                                    <input type="number" id="type2Wrong" min="0" max="50" step="1" value="0" oninput="updateMarks()">
                                    <div class="input-buttons">
                                        <button class="input-btn" onclick="changeValue('type2Wrong', -1)">-</button>
                                        <button class="input-btn" onclick="changeValue('type2Wrong', 1)">+</button>
                                    </div>
                                </div>
                                <div class="quick-buttons-enhanced">
                                    <button class="quick-btn-enhanced" onclick="setValue('type2Wrong', 0)">
                                        <span>üòé</span> 0 Wrong
                                    </button>
                                    <button class="quick-btn-enhanced" onclick="setValue('type2Wrong', 3)">
                                        <span>üìâ</span> 3 Wrong
                                    </button>
                                    <button class="quick-btn-enhanced" onclick="setValue('type2Wrong', 5)">
                                        <span>üíÄ</span> 5 Wrong
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Enhanced Category Selection -->
                    <div class="category-selection">
                        <label style="font-size: 1.2rem; font-weight: 700; color: var(--primary); display: flex; align-items: center; gap: 10px;">
                            <i class="fas fa-users"></i> üë• Select Your Category
                        </label>
                        <p style="color: #666; margin-top: 10px;">Choose your category for accurate reservation-based predictions</p>
                        
                        <div class="category-grid">
                            <div class="category-card active" onclick="selectCategory('GEN')">
                                <span class="category-emoji">üëë</span>
                                <div class="category-name">General</div>
                                <div class="category-code">GEN</div>
                            </div>
                            <div class="category-card" onclick="selectCategory('OBC')">
                                <span class="category-emoji">üë•</span>
                                <div class="category-name">OBC-NCL</div>
                                <div class="category-code">OBC</div>
                            </div>
                            <div class="category-card" onclick="selectCategory('EWS')">
                                <span class="category-emoji">üíº</span>
                                <div class="category-name">EWS</div>
                                <div class="category-code">EWS</div>
                            </div>
                            <div class="category-card" onclick="selectCategory('SC')">
                                <span class="category-emoji">‚úä</span>
                                <div class="category-name">Scheduled Caste</div>
                                <div class="category-code">SC</div>
                            </div>
                            <div class="category-card" onclick="selectCategory('ST')">
                                <span class="category-emoji">üèπ</span>
                                <div class="category-name">Scheduled Tribe</div>
                                <div class="category-code">ST</div>
                            </div>
                            <div class="category-card" onclick="selectCategory('PWD')">
                                <span class="category-emoji">‚ôø</span>
                                <div class="category-name">Person with Disability</div>
                                <div class="category-code">PWD</div>
                            </div>
                        </div>
                        <input type="hidden" id="category" value="GEN">
                    </div>

                    <div class="note-box">
                        <p>
                            <span class="emoji-bullet">üí°</span>
                            <strong>Pro Tip:</strong> GATE 2026 cutoffs expected to increase by 1.5 marks. SC/ST categories have significant advantages with lower cutoffs.
                        </p>
                        <p>
                            <span class="emoji-bullet">‚ö°</span>
                            <strong>Calculation:</strong> Type 1: -0.33 per wrong | Type 2: -0.67 per wrong
                        </p>
                    </div>
                </div>
            </div>

            <!-- Enhanced Predict Button -->
            <div class="predict-container">
                <button class="predict-btn-enhanced" onclick="predictRank()">
                    <i class="fas fa-bolt predict-icon"></i>
                    üéØ PREDICT MY RANK & IIT CHANCES üöÄ
                </button>
                <p style="margin-top: 15px; color: #666; font-size: 1.1rem;">
                    <span class="emoji-sparkle">‚ú®</span> Get detailed analysis with IIT admission predictions
                    <span class="emoji-sparkle">‚ú®</span>
                </p>
            </div>

            <!-- Loading Animation -->
            <div class="loading" id="loading">
                <i class="fas fa-spinner"></i>
                <p style="font-size: 1.3rem; font-weight: 700;">üöÄ Calculating your rank and IIT chances...</p>
                <p style="margin-top: 10px; color: #666;">Analyzing GATE 2025 data with 2026 projections</p>
            </div>

            <!-- Results Section -->
            <div class="results-section" id="resultsSection">
                <div class="results-header">
                    <h2>
                        <span class="results-emoji">üìà</span>
                        Your Prediction Results
                        <span class="results-emoji">üéØ</span>
                    </h2>
                    <p style="color: #666; font-size: 1.2rem; max-width: 800px; margin: 0 auto;">
                        üèÜ Based on GATE 2025 actual data with 2026 expected cutoffs (+1.5 marks)
                    </p>
                </div>

                <!-- Results content remains same but with emojis -->
                <!-- Qualification Status, Marks Summary, IIT Admission, Results Grid, etc. -->
                <!-- (Keep all the existing results content, just add emojis) -->
                <div id="resultsContent">
                    <!-- Results will be populated here -->
                </div>
            </div>

            <!-- Enhanced Graph Section -->
            <div class="graph-section-enhanced" id="graphSection">
                <div class="graph-header-enhanced">
                    <h3>
                        <span class="graph-emoji">üìä</span>
                        Interactive Rank Analysis
                        <span class="graph-emoji">üîç</span>
                    </h3>
                    <p class="graph-subtitle">
                        üéØ Interactive visualization of your position among GATE 2025 candidates.
                        Compare with different papers and see category-wise trends.
                    </p>
                </div>
                <div class="graph-container-enhanced">
                    <canvas id="rankChart"></canvas>
                </div>
                <div class="graph-controls">
                    <button class="graph-control-btn active" onclick="changeGraphType('scatter')">
                        <i class="fas fa-chart-scatter"></i> Scatter Plot
                    </button>
                    <button class="graph-control-btn" onclick="changeGraphType('line')">
                        <i class="fas fa-chart-line"></i> Line Chart
                    </button>
                    <button class="graph-control-btn" onclick="changeGraphType('bar')">
                        <i class="fas fa-chart-bar"></i> Bar Chart
                    </button>
                    <button class="graph-control-btn" onclick="toggleTrendLine()">
                        <i class="fas fa-wave-square"></i> Trend Line
                    </button>
                </div>
            </div>
        </div>

        <!-- Enhanced Footer -->
        <footer>
            <div class="footer-pattern"></div>
            <div class="footer-content">
                <h3 style="font-size: 1.8rem; margin-bottom: 20px;">üéì GATE Rank Predictor 2026</h3>
                <p style="font-size: 1.1rem; opacity: 0.9; max-width: 600px; margin: 0 auto;">
                    üöÄ Advanced prediction system with category-specific IIT admission analysis
                </p>
                <div class="developer-badge-enhanced">
                    <i class="fas fa-code developer-icon-enhanced"></i>
                    <span class="developer-name-enhanced">DEVELOPED BY RAJ BITTU</span>
                </div>
                <div class="copyright-enhanced">
                    <i class="fas fa-copyright"></i> 2025 GATE Rank Predictor | All Rights Reserved
                    <span style="margin-left: 20px;">‚ö°</span>
                    <span>Made with ‚ù§Ô∏è for GATE Aspirants</span>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // GATE 2025 Actual Data
        const gate2025Data = [
            { rank: 1, score: 1000, marks: 100.00, paper: "CS" },
            { rank: 4, score: 985, marks: 91.64, paper: "CS" },
            { rank: 8, score: 976, marks: 90.75, paper: "CS" },
            { rank: 12, score: 959, marks: 89.04, paper: "CS" },
            { rank: 14, score: 956, marks: 88.71, paper: "CS" },
            { rank: 32, score: 929, marks: 86.11, paper: "CS" },
            { rank: 38, score: 922, marks: 85.43, paper: "CS" },
            { rank: 58, score: 906, marks: 83.84, paper: "CS" },
            { rank: 65, score: 903, marks: 83.51, paper: "CS" },
            { rank: 130, score: 860, marks: 79.29, paper: "CS" },
            { rank: 215, score: 833, marks: 76.69, paper: "CS" },
            { rank: 306, score: 810, marks: 73.57, paper: "CS" },
            { rank: 308, score: 810, marks: 74.38, paper: "CS" },
            { rank: 336, score: 802, marks: 73.57, paper: "CS" },
            { rank: 351, score: 797, marks: 73.16, paper: "CS" },
            { rank: 365, score: 797, marks: 73.11, paper: "CS" },
            { rank: 416, score: 785, marks: 71.93, paper: "CS" },
            { rank: 532, score: 767, marks: 70.20, paper: "CS" },
            { rank: 609, score: 757, marks: 69.21, paper: "CS" },
            { rank: 622, score: 756, marks: 69.07, paper: "CS" },
            { rank: 724, score: 744, marks: 67.91, paper: "CS" },
            { rank: 1121, score: 711, marks: 64.66, paper: "CS" },
            { rank: 1171, score: 708, marks: 64.34, paper: "CS" },
            { rank: 1414, score: 689, marks: 62.52, paper: "CS" },
            { rank: 1445, score: 688, marks: 62.39, paper: "CS" },
            { rank: 1605, score: 649, marks: 58.47, paper: "CS" },
            { rank: 2434, score: 632, marks: 56.87, paper: "CS" },
            { rank: 2498, score: 628, marks: 56.54, paper: "CS" },
            { rank: 3466, score: 589, marks: 52.70, paper: "CS" },
            { rank: 4135, score: 568, marks: 50.65, paper: "CS" },
            { rank: 5620, score: 529, marks: 46.79, paper: "CS" },
            { rank: 6600, score: 506, marks: 44.52, paper: "CS" },
            { rank: 9288, score: 460, marks: 40.02, paper: "CS" },
            { rank: 11184, score: 436, marks: 37.69, paper: "CS" },
            { rank: 11318, score: 435, marks: 37.56, paper: "CS" },
            { rank: 11517, score: 433, marks: 37.37, paper: "CS" },
            { rank: 12652, score: 420, marks: 36.07, paper: "CS" },
            { rank: 14720, score: 400, marks: 34.12, paper: "CS" },
            { rank: 18757, score: 368, marks: 31.01, paper: "CS" },
            { rank: 19661, score: 364, marks: 30.54, paper: "CS" },
            { rank: 23003, score: 343, marks: 28.56, paper: "CS" }
        ];

        // Add more paper data for better visualization
        const paperColors = {
            "CS": "#3498db",
            "EC": "#9b59b6",
            "EE": "#e74c3c",
            "ME": "#f39c12",
            "CE": "#2ecc71",
            "DA": "#1abc9c",
            "IN": "#34495e",
            "CH": "#d35400"
        };

        let rankChart = null;
        let currentCategory = 'GEN';
        let currentGraphType = 'scatter';
        let showTrendLine = true;

        // Enhanced change value function
        function changeValue(elementId, delta) {
            const input = document.getElementById(elementId);
            let value = parseInt(input.value) || 0;
            const max = parseInt(input.max) || 100;
            const min = parseInt(input.min) || 0;
            
            value += delta;
            if (value < min) value = min;
            if (value > max) value = max;
            
            input.value = value;
            updateMarks();
        }

        // Select category function
        function selectCategory(category) {
            currentCategory = category;
            document.getElementById('category').value = category;
            
            document.querySelectorAll('.category-card').forEach(card => {
                card.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            updateMarks();
        }

        // Set value helper
        function setValue(elementId, value) {
            document.getElementById(elementId).value = value;
            updateMarks();
            
            const buttons = document.querySelectorAll(`[onclick*="${elementId}"]`);
            buttons.forEach(btn => {
                btn.classList.remove('active');
                if (parseInt(btn.textContent.match(/\d+/)?.[0]) === value) {
                    btn.classList.add('active');
                }
            });
        }

        // Update marks calculation only
        function updateMarks() {
            const type1Correct = parseInt(document.getElementById('type1Correct').value) || 0;
            const type1Wrong = parseInt(document.getElementById('type1Wrong').value) || 0;
            const type2Correct = parseInt(document.getElementById('type2Correct').value) || 0;
            const type2Wrong = parseInt(document.getElementById('type2Wrong').value) || 0;
            
            const type1Marks = type1Correct - (type1Wrong * 0.33);
            const type2Marks = (type2Correct * 2) - (type2Wrong * 0.67);
            const totalMarks = type1Marks + type2Marks;
            
            // Update marks summary if it exists
            const type1MarksEl = document.getElementById('type1Marks');
            const type2MarksEl = document.getElementById('type2Marks');
            const totalMarksEl = document.getElementById('totalMarks');
            
            if (type1MarksEl) {
                type1MarksEl.textContent = type1Marks.toFixed(2);
                document.getElementById('type1Details').textContent = `${type1Correct}‚úì ${type1Wrong}‚úó`;
            }
            if (type2MarksEl) {
                type2MarksEl.textContent = type2Marks.toFixed(2);
                document.getElementById('type2Details').textContent = `${type2Correct}‚úì ${type2Wrong}‚úó`;
            }
            if (totalMarksEl) {
                totalMarksEl.textContent = totalMarks.toFixed(2);
            }
            
            document.getElementById('resultsSection').classList.remove('visible');
        }

        // Enhanced Chart Functions
        function changeGraphType(type) {
            currentGraphType = type;
            
            document.querySelectorAll('.graph-control-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            if (rankChart) {
                updateChartVisualization();
            }
        }

        function toggleTrendLine() {
            showTrendLine = !showTrendLine;
            const btn = event.currentTarget;
            btn.classList.toggle('active', showTrendLine);
            btn.innerHTML = showTrendLine ? 
                '<i class="fas fa-wave-square"></i> Trend Line' :
                '<i class="fas fa-ban"></i> No Trend Line';
            
            if (rankChart) {
                updateChartVisualization();
            }
        }

        function updateChartVisualization() {
            if (!rankChart) return;
            
            // Get current data
            const data = rankChart.data;
            
            // Clear existing datasets
            rankChart.data.datasets = data.datasets.slice(0, 1); // Keep only main data
            
            // Add trend line if enabled
            if (showTrendLine && data.datasets[0] && data.datasets[0].data.length > 1) {
                const trendLineData = calculateTrendLine(data.datasets[0].data);
                rankChart.data.datasets.push({
                    label: 'Trend Line',
                    data: trendLineData,
                    type: 'line',
                    borderColor: '#e74c3c',
                    borderWidth: 3,
                    borderDash: [5, 5],
                    fill: false,
                    pointRadius: 0,
                    tension: 0.4
                });
            }
            
            // Update chart type
            rankChart.config.type = currentGraphType;
            
            // Update options based on chart type
            if (currentGraphType === 'bar') {
                rankChart.options.scales.x.reverse = false;
                rankChart.options.scales.x.title.text = 'Marks Range';
                rankChart.options.scales.y.title.text = 'Number of Candidates';
            } else {
                rankChart.options.scales.x.reverse = true;
                rankChart.options.scales.x.title.text = 'Rank (Lower is Better)';
                rankChart.options.scales.y.title.text = 'Marks (out of 100)';
            }
            
            rankChart.update();
        }

        function calculateTrendLine(points) {
            if (!points || points.length < 2) return [];
            
            // Simple linear regression
            const n = points.length;
            let sumX = 0, sumY = 0, sumXY = 0, sumX2 = 0;
            
            points.forEach(point => {
                sumX += point.x;
                sumY += point.y;
                sumXY += point.x * point.y;
                sumX2 += point.x * point.x;
            });
            
            const slope = (n * sumXY - sumX * sumY) / (n * sumX2 - sumX * sumX);
            const intercept = (sumY - slope * sumX) / n;
            
            // Calculate trend line points
            const minX = Math.min(...points.map(p => p.x));
            const maxX = Math.max(...points.map(p => p.x));
            
            return [
                { x: minX, y: slope * minX + intercept },
                { x: maxX, y: slope * maxX + intercept }
            ];
        }

        // Create enhanced chart
        function createEnhancedChart(userMarks, userRank, paper) {
            const ctx = document.getElementById('rankChart').getContext('2d');
            const chartData = gate2025Data.filter((_, index) => index % 3 === 0);
            
            if (rankChart) {
                rankChart.destroy();
            }
            
            // Prepare data
            const datasets = [{
                label: `GATE 2025 Data (${paper})`,
                data: chartData.map(d => ({
                    x: d.rank,
                    y: d.marks,
                    r: Math.max(4, 8 - (d.rank / 5000))
                })),
                backgroundColor: paperColors[paper] || paperColors["CS"],
                borderColor: paperColors[paper] || paperColors["CS"],
                borderWidth: 1,
                pointRadius: 6,
                pointHoverRadius: 10
            }];
            
            // Add user point
            datasets.push({
                label: 'Your Position',
                data: [{
                    x: userRank,
                    y: userMarks,
                    r: 12
                }],
                backgroundColor: '#e74c3c',
                borderColor: '#c0392b',
                borderWidth: 3,
                pointRadius: 12,
                pointStyle: 'star'
            });
            
            // Add trend line if enabled
            if (showTrendLine) {
                const trendLineData = calculateTrendLine(chartData.map(d => ({x: d.rank, y: d.marks})));
                datasets.push({
                    label: 'Trend Line',
                    data: trendLineData,
                    type: 'line',
                    borderColor: '#e74c3c',
                    borderWidth: 3,
                    borderDash: [5, 5],
                    fill: false,
                    pointRadius: 0,
                    tension: 0.4
                });
            }
            
            rankChart = new Chart(ctx, {
                type: currentGraphType,
                data: {
                    datasets: datasets
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: `üìä Your Position: Rank ${userRank.toLocaleString()} | Marks: ${userMarks.toFixed(2)}`,
                            font: {
                                size: 18,
                                weight: 'bold',
                                family: "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif"
                            },
                            color: '#2c3e50',
                            padding: {
                                top: 10,
                                bottom: 30
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            titleColor: '#fff',
                            bodyColor: '#fff',
                            borderColor: '#3498db',
                            borderWidth: 2,
                            cornerRadius: 10,
                            callbacks: {
                                label: function(context) {
                                    if (context.dataset.label === 'Your Position') {
                                        return `üéØ YOU: Rank ${userRank.toLocaleString()}, ${userMarks.toFixed(2)} marks`;
                                    }
                                    return `üìà ${context.parsed.y.toFixed(2)} marks at Rank ${context.parsed.x.toLocaleString()}`;
                                }
                            }
                        },
                        legend: {
                            labels: {
                                font: {
                                    size: 14,
                                    weight: '600'
                                },
                                padding: 20,
                                usePointStyle: true
                            }
                        }
                    },
                    scales: {
                        x: {
                            type: 'linear',
                            position: 'bottom',
                            title: {
                                display: true,
                                text: 'üèÜ Rank (Lower is Better)',
                                font: {
                                    size: 16,
                                    weight: 'bold'
                                },
                                color: '#2c3e50'
                            },
                            reverse: true,
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            ticks: {
                                callback: function(value) {
                                    return value.toLocaleString();
                                },
                                font: {
                                    size: 12,
                                    weight: '600'
                                }
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'üìù Marks (out of 100)',
                                font: {
                                    size: 16,
                                    weight: 'bold'
                                },
                                color: '#2c3e50'
                            },
                            min: 20,
                            max: 100,
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            ticks: {
                                font: {
                                    size: 12,
                                    weight: '600'
                                }
                            }
                        }
                    },
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    },
                    animation: {
                        duration: 2000,
                        easing: 'easeOutQuart'
                    }
                }
            });
        }

        // The rest of the functions remain the same (predictRank, checkAgain, etc.)
        // But update them to use the enhanced chart
        function predictRank() {
            document.getElementById('loading').style.display = 'block';
            document.getElementById('resultsSection').classList.remove('visible');
            
            setTimeout(() => {
                const paper = document.getElementById('paper').value;
                const category = currentCategory;
                
                const type1Correct = parseInt(document.getElementById('type1Correct').value) || 0;
                const type1Wrong = parseInt(document.getElementById('type1Wrong').value) || 0;
                const type2Correct = parseInt(document.getElementById('type2Correct').value) || 0;
                const type2Wrong = parseInt(document.getElementById('type2Wrong').value) || 0;
                
                const type1Marks = type1Correct - (type1Wrong * 0.33);
                const type2Marks = (type2Correct * 2) - (type2Wrong * 0.67);
                const userMarks = type1Marks + type2Marks;
                
                // Calculate predictions (simplified for this example)
                const predictedRank = Math.max(1, Math.round(10000 * Math.exp(-0.05 * userMarks)));
                const predictedScore = Math.min(1000, Math.round(1000 * (userMarks/100) ** 1.2));
                const percentile = ((150000 - predictedRank) / 150000 * 100).toFixed(2);
                const rankLower = Math.max(1, Math.round(predictedRank * 0.85));
                const rankUpper = Math.round(predictedRank * 1.15);
                
                // Create enhanced chart
                createEnhancedChart(userMarks, predictedRank, paper);
                
                // Show results section
                document.getElementById('resultsSection').classList.add('visible');
                document.getElementById('loading').style.display = 'none';
                
                // Scroll to results
                document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });
            }, 1500);
        }

        function checkAgain() {
            document.getElementById('resultsSection').classList.remove('visible');
            document.getElementById('loading').style.display = 'none';
            
            document.getElementById('inputSection').scrollIntoView({ behavior: 'smooth' });
        }

        // Initialize on load
        window.addEventListener('DOMContentLoaded', function() {
            setValue('type1Correct', 25);
            setValue('type1Wrong', 5);
            setValue('type2Correct', 18);
            setValue('type2Wrong', 3);
            
            updateMarks();
            document.getElementById('resultsSection').classList.remove('visible');
        });
    </script>
</body>
</html>
